def repeatedN(A):
    maj1 = None
    maj2 = None
    f1 = 0
    f2 = 0
    N = len(A)
    for i in range(N):
        print("maj1 {},f1 {},maj2 {},f2 {}".format(maj1,f1,maj2,f2))
        if (maj1 == None) and (maj2 != A[i]):
            maj1 = A[i]
            f1 = 1
        elif maj1 == A[i]:
            print ("incrementing")
            f1+=1
        elif maj2 == None:
            maj2 = A[i]
            f2 = 1
        elif maj2 == A[i]:
            f2+=1
        else:
            f1-=1
            f2-=1
            if f1 == 0:
                maj1 = None
            if f2 == 0:
                maj2 = None
    print("f1 {},f2 {}".format(f1,f2))
    if f1 > f2:
        maj = maj1
    else:
        maj = maj2
    cnt = 0
    for num in A:
        if num == maj:
            cnt += 1
    if cnt > (N//3):
        return maj
    else:
        return -1

if __name__ == '__main__':
    #A=[1,2,3,1,1]
    A=[ 1000727, 1000727, 1000641, 1000517, 1000212, 1000532, 1000727, 1001000, 1000254, 1000106, 1000405, 1000100, 1000736, 1000727, 1000727, 1000787, 1000105, 1000713, 1000727, 1000333, 1000069, 1000727, 1000877, 1000222, 1000727, 1000505, 1000641, 1000533, 1000727, 1000727, 1000727, 1000508, 1000475, 1000727, 1000573, 1000727, 1000618, 1000727, 1000309, 1000486, 1000792, 1000727, 1000727, 1000426, 1000547, 1000727, 1000972, 1000575, 1000303, 1000727, 1000533, 1000669, 1000489, 1000727, 1000329, 1000727, 1000050, 1000209, 1000109 ]
    A=[ 1000938, 1000346, 1000346, 1000346, 1000561, 1000664, 1000671, 1000222, 1000702, 1000346, 1000346, 1000160, 1000958, 1000895 ]
    print(repeatedN(A))

